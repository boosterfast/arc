---
source: arc-script-test-insta/src/lib.rs
expression: s
input_file: arc-script-test-insta/src/expect-pass/option.arc
---
module @toplevel {
    func @x_2() -> i0 {
        %x_3 = arc.constant unit : i0
        return %x_3 : i0
    }
    func @main() -> i0 {
        %x_4 = arc.constant 3 : si32
        %x_5 = "arc.enwrap"%x_4 { variant = crate_Option_Some } : si32 -> crate_Option
        %x_6 = "arc.is"%x_5 { variant = crate_Option_Some } : crate_Option -> i1
        %x_A = "arc.if"(%x_6) ({
            %x_7 = "arc.unwrap"%x_5 { variant = crate_Option_Some } : crate_Option -> si32
            %x_8 = arc.constant unit : i0
            "arc.block.result"(%x_8) : (i0) -> ()
        },{
            %x_9 = call crate_x_2() : () -> i0
            "arc.block.result"(%x_9) : (i0) -> ()
        }) : (i1) -> i0
        return %x_A : i0
    }
}

