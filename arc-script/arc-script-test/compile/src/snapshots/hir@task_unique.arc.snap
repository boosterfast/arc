---
source: arc-script-test/compile/src/insta.rs
expression: s
input_file: arc-script-test/compile/src/tests/expect_mlir_fail_todo/task_unique.arc

---
task UniqueSet() (~i32) -> (~i32) {
    state set_0: {i32} = {}
    on {
        event_0: i32 => {
            if not event_0 in set_0 {
                add set_0[event_0];
                emit event_0
            } else {
                unit
            }
        }
    }
}
task UniqueMap() (~i32) -> (~i32) {
    state map_0: {i32 => bool} = {}
    on {
        event_1: i32 => {
            if not event_1 in map_0 {
                map_0[event_1] = true;
                emit event_1
            } else {
                unit
            }
        }
    }
}

